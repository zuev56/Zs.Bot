set timezone = 'Europe/Moscow';
DROP DATABASE IF EXISTS "RemoteManagerDb";
--DROP USER IF EXISTS zuev56;
--DROP USER IF EXISTS robot;
CREATE USER zuev56 WITH PASSWORD '105203656';
CREATE USER robot WITH PASSWORD 'sqr105203656';
CREATE DATABASE "RemoteManagerDb";
\connect "RemoteManagerDb" postgres;
DROP SCHEMA public;
CREATE SCHEMA rmgr;
CREATE SCHEMA cas;
CREATE SCHEMA helper;
CREATE EXTENSION IF NOT EXISTS "uuid-ossp" WITH SCHEMA helper;




-- Общая триггерная функция отбовления поля UpdateDate 
CREATE OR REPLACE FUNCTION helper."UpdateDate_reset"()
RETURNS TRIGGER AS $$
BEGIN
   NEW."UpdateDate" = now(); 
   RETURN NEW;
END;
$$ language 'plpgsql';
